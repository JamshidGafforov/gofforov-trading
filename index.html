<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Gofforov Trade Hub</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #0b1220;
  color: #eaf2ff;
}

header {
  padding: 18px;
  text-align: center;
  font-size: 26px;
  font-weight: bold;
  background: #020817;
  border-bottom: 1px solid #1e2a44;
}

.lang {
  text-align: center;
  padding: 10px;
}
.lang button {
  margin: 4px;
  padding: 6px 12px;
  border-radius: 6px;
  border: none;
  cursor: pointer;
  background: #1e2a44;
  color: #fff;
}

.wrapper {
  display: grid;
  grid-template-columns: 320px 1fr;
  gap: 20px;
  padding: 20px;
}

.section {
  background: linear-gradient(145deg,#0f1c33,#0a1326);
  border-radius: 16px;
  padding: 16px;
  box-shadow: 0 10px 30px rgba(0,0,0,.6);
  margin-bottom: 20px;
}

h2 {
  margin-top: 0;
  font-size: 18px;
  color: #7dd3fc;
}

iframe {
  width: 100%;
  border: none;
  border-radius: 10px;
}

canvas {
  max-height: 320px;
}

input, textarea {
  width: 100%;
  margin: 6px 0;
  padding: 6px;
  border-radius: 6px;
  border: none;
}

button.save {
  width: 100%;
  padding: 8px;
  background: #22c55e;
  border: none;
  border-radius: 6px;
  font-weight: bold;
}

@media(max-width:900px){
  .wrapper {
    grid-template-columns: 1fr;
  }
}
</style>
</head>

<body>

<header>GOFFOROV TRADE HUB</header>

<div class="lang">
  <button onclick="setLanguage('en')">EN</button>
  <button onclick="setLanguage('ru')">RU</button>
  <button onclick="setLanguage('uz')">UZ</button>
  <button onclick="setLanguage('ar')">AR</button>
</div>

<div class="wrapper">

<!-- LEFT SIDE -->
<div>

  <div class="section">
    <h2 id="sessionsTitle">Trading Sessions</h2>
    <div id="sessions"></div>
  </div>

  <div class="section">
    <h2 id="calendarTitle">Economic Calendar</h2>
    <iframe id="calendar" height="360"
      src="https://www.tradingview.com/embed-widget/events/?locale=en">
    </iframe>
  </div>

</div>

<!-- RIGHT SIDE -->
<div>

  <div class="section">
    <h2 id="marketTitle">Market Indices</h2>
    <canvas id="marketChart"></canvas>
  </div>

  <div class="section">
    <h2 id="journalTitle">Trader Journal</h2>
    <input id="pair" placeholder="Pair (XAUUSD)">
    <input id="entry" placeholder="Entry">
    <input id="exit" placeholder="Exit">
    <textarea id="reason" placeholder="Reason"></textarea>
    <button class="save" onclick="saveTrade()">SAVE TRADE</button>
    <div id="journal"></div>
  </div>

</div>
</div>

<script>
let currentLang="en";
let chart;

const text={
en:{sessions:"Trading Sessions",calendar:"Economic Calendar",market:"Market Indices",journal:"Trader Journal"},
ru:{sessions:"Торговые сессии",calendar:"Экономический календарь",market:"Рыночные индексы",journal:"Трейдерский журнал"},
uz:{sessions:"Savdo sessiyalari",calendar:"Iqtisodiy kalender",market:"Bozor indekslari",journal:"Trader jurnali"},
ar:{sessions:"جلسات التداول",calendar:"التقويم الاقتصادي",market:"مؤشرات السوق",journal:"سجل المتداول"}
};

function setLanguage(l){
currentLang=l;
document.getElementById("sessionsTitle").innerText=text[l].sessions;
document.getElementById("calendarTitle").innerText=text[l].calendar;
document.getElementById("marketTitle").innerText=text[l].market;
document.getElementById("journalTitle").innerText=text[l].journal;
document.getElementById("calendar").src="https://www.tradingview.com/embed-widget/events/?locale="+l;
updateChart();
updateSessions();
}

function updateSessions(){
const zones=[
["Asia/Tashkent","UZ"],
["Asia/Tokyo","Tokyo"],
["Europe/London","London"],
["America/New_York","New York"]
];
let html="";
zones.forEach(z=>{
let d=new Date(new Date().toLocaleString("en-US",{timeZone:z[0]}));
html+=`<div>${z[1]}: ${d.toLocaleTimeString()}</div>`;
});
document.getElementById("sessions").innerHTML=html;
}

function updateChart(){
if(chart)chart.destroy();
chart=new Chart(document.getElementById("marketChart"),{
type:"bar",
data:{
labels:["S&P 500","NASDAQ","DAX","FTSE"],
datasets:[{data:[4800,16200,16500,7600],backgroundColor:"#38bdf8"}]
},
options:{responsive:true,plugins:{legend:{display:false}}}
});
}

function saveTrade(){
let trades=JSON.parse(localStorage.getItem("trades")||"[]");
trades.push({
pair:pair.value,entry:entry.value,exit:exit.value,reason:reason.value
});
localStorage.setItem("trades",JSON.stringify(trades));
loadJournal();
}

function loadJournal(){
let trades=JSON.parse(localStorage.getItem("trades")||"[]");
journal.innerHTML=trades.map(t=>`<div>${t.pair} | ${t.entry} → ${t.exit}</div>`).join("");
}

updateChart();
updateSessions();
loadJournal();
</script>

</body>
</html>
