<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gofforov Trading Sessions</title>

  <style>
    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: #050b12;
      color: #e6f1ff;
    }

    header {
      padding: 18px;
      text-align: center;
      font-size: 22px;
      font-weight: 800;
      background: #02070c;
      border-bottom: 1px solid #0b1a26;
      letter-spacing: 0.5px;
    }

    .container {
      max-width: 1200px;
      margin: auto;
      padding: 20px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
    }

    .card {
      background: linear-gradient(145deg, #020c14, #041826);
      border: 1px solid #0b1a26;
      border-radius: 18px;
      padding: 22px;
      box-shadow: 0 15px 35px rgba(0,0,0,.6);
    }

    h2 {
      margin: 0 0 14px 0;
      font-size: 18px;
      color: #6fd2ff;
      text-align: center;
    }

    .session-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 10px 0;
      font-size: 20px;
      font-weight: 600;
    }

    .status {
      font-size: 15px;
      font-weight: 500;
    }

    .open { color: #4ade80; }
    .closed { color: #f87171; }

    iframe {
      width: 100% !important;
      border: none;
      border-radius: 14px;
    }

    footer {
      text-align: center;
      padding: 16px;
      font-size: 13px;
      color: #7a93a8;
    }
  </style>
</head>
<body>

<header>
  GOFFOROV TRADING SESSIONS
</header>

<div class="container">

  <!-- MAIN SESSIONS -->
  <div class="card" style="grid-column:1 / -1">
    <h2>ğŸŒ Global Trading Sessions (Live)</h2>

    <div class="session-row"><span>ğŸ‡ºğŸ‡¿ Uzbekistan (UTC+5)</span><span id="uz"></span></div>

    <hr style="border-color:#0b1a26">

    <div class="session-row"><span>ğŸ‡¯ğŸ‡µ Tokyo</span><span id="tokyo"></span></div>
    <div class="status" id="tokyoStatus"></div>

    <hr style="border-color:#0b1a26">

    <div class="session-row"><span>ğŸ‡¬ğŸ‡§ London</span><span id="london"></span></div>
    <div class="status" id="londonStatus"></div>

    <hr style="border-color:#0b1a26">

    <div class="session-row"><span>ğŸ‡ºğŸ‡¸ New York</span><span id="ny"></span></div>
    <div class="status" id="nyStatus"></div>

    <hr style="border-color:#0b1a26">

    <div class="session-row"><span>âš¡ London â€“ New York Overlap</span><span id="overlap"></span></div>
  </div>

  <!-- ECONOMIC CALENDAR -->
  <div class="card">
    <h2>ğŸ“… Economic Calendar</h2>
    <iframe src="https://www.tradingview.com/embed-widget/events/?locale=en" height="380"></iframe>
  </div>

  <!-- MARKET TREND (GOLD / OIL / SILVER) -->
  <div class="card" style="grid-column:1 / -1">
    <h2>ğŸ“ˆ Gold â€¢ Oil â€¢ Silver Trend (Algorithmic)</h2>
    <canvas id="trendChart" height="120"></canvas>
    <p style="font-size:13px;color:#7cff9c;text-align:center">
      Automatic trend direction based on moving average. Not a signal.
    </p>
  </div>

</div>

<footer>
  Â© Gofforov Trading â€¢ UTC+5 â€¢ Not financial advice
</footer>

<script>
  function status(hour, start, end) {
    return hour >= start && hour < end
      ? '<span class="open">ğŸŸ¢ Open</span>'
      : '<span class="closed">ğŸ”´ Closed</span>';
  }

  function update() {
    const now = new Date();

    const uz = new Date(now.toLocaleString('en-US', { timeZone: 'Asia/Tashkent' }));
    const tokyo = new Date(now.toLocaleString('en-US', { timeZone: 'Asia/Tokyo' }));
    const london = new Date(now.toLocaleString('en-US', { timeZone: 'Europe/London' }));
    const ny = new Date(now.toLocaleString('en-US', { timeZone: 'America/New_York' }));

    document.getElementById('uz').innerText = uz.toLocaleTimeString('en-GB');
    document.getElementById('tokyo').innerText = tokyo.toLocaleTimeString('en-GB');
    document.getElementById('london').innerText = london.toLocaleTimeString('en-GB');
    document.getElementById('ny').innerText = ny.toLocaleTimeString('en-GB');

    document.getElementById('tokyoStatus').innerHTML = status(tokyo.getHours(), 9, 18);
    document.getElementById('londonStatus').innerHTML = status(london.getHours(), 8, 17);
    document.getElementById('nyStatus').innerHTML = status(ny.getHours(), 8, 17);

    const overlap = london.getHours() >= 13 && london.getHours() < 17 && ny.getHours() >= 8 && ny.getHours() < 12;
    document.getElementById('overlap').innerHTML = overlap
      ? '<span class="open">âš¡ High Volatility</span>'
      : '<span class="closed">â€”</span>';
  }

  setInterval(update, 1000);
  update();
  // ===== SIMPLE TREND ALGORITHM =====
  const ctx = document.getElementById('trendChart').getContext('2d');

  const prices = {
    gold: [2320,2330,2325,2340,2355,2360],
    oil: [78,79,80,79.5,81,82],
    silver: [28.1,28.3,28.2,28.6,28.9,29.1]
  };

  function trend(data){
    const first = data.slice(0,3).reduce((a,b)=>a+b)/3;
    const last = data.slice(-3).reduce((a,b)=>a+b)/3;
    return last > first ? 'UP' : 'DOWN';
  }

  new Chart(ctx, {
    type: 'line',
    data: {
      labels: ['t1','t2','t3','t4','t5','t6'],
      datasets: [
        {
          label: 'Gold ('+trend(prices.gold)+')',
          data: prices.gold,
          tension: 0.3
        },
        {
          label: 'Oil ('+trend(prices.oil)+')',
          data: prices.oil,
          tension: 0.3
        },
        {
          label: 'Silver ('+trend(prices.silver)+')',
          data: prices.silver,
          tension: 0.3
        }
      ]
    },
    options: {
      plugins: { legend: { labels: { color:'#e6f1ff' } } },
      scales: {
        x: { ticks:{display:false}, grid:{display:false} },
        y: { ticks:{color:'#7a93a8'}, grid:{color:'#0b1a26'} }
      }
    }
  });
</script>

</body>
</html>
